<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Trips</title>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.2/moment.min.js"></script>
  </head>
  <body>
      <h1>Trips</h1>
      <h6>Code Challenge by: Abby Greenbloom</h6>
      <div class="trip-results">
          <ul id="results">
          </ul>
      </div>

    <script type="text/javascript">
    // Load all trips on page load
    function load_trips() {
      $.ajax({
          url : "trips/", // the endpoint
          type : "GET", // http method
          // handle a successful response
          success : function(json) {
              for (var i = 0; i < json.length; i++) {
                  console.log(json[i])
                  $("#results").prepend("<li id='trip-"+json[i].id+"'><strong>"+json[i].text+"</strong> - <em> "+json[i].name+"</em> - <span> "+json[i].start_date);
              }
          },
          // handle a non-successful response
          error : function(xhr,errmsg,err) {
              $('#results').html("<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: "+errmsg+
                  " <a href='#' class='close'>&times;</a></div>"); // add the error to the dom
              console.log(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
          }
      });
    };


    </script>
  </body>
</html>
